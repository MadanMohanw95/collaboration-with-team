2025-07-11T20:26:42.241Z] Error: System.InvalidOperationException: EditForm requires either a Model parameter, or an EditContext parameter, please provide one of these.
   at Microsoft.AspNetCore.Components.Forms.EditForm.OnParametersSet()
   at Microsoft.AspNetCore.Components.ComponentBase.CallOnParametersSetAsync()
   at Microsoft.AspNetCore.Components.ComponentBase.RunInitAndSetParametersAsync()


        private void SetupContactAddressEditContext()
        {
            CAddrEditContext = new EditContext(ContactAddrModel);
            CAddrEditContext.OnValidationStateChanged += (sender, args) =>
            {
                MergedValidationMsgs = CAddrEditContext.GetValidationMessages().ToList();
                StateHasChanged();
            };
        }

        private void ResetCurrentModels()
        {
            CurrentAddr = new Address();
            CurrentAddr.ModifiedBy = User?.UserName;
            EditContext = new EditContext(CurrentAddr);

            ContactAddrModel = new ContactAddress { ModifiedBy = User?.UserName };
            SetupContactAddressEditContext();
        }


        private Task InitializeAddressDataAsync()
        {
            if (Context is ValueTuple<List<Address>, List<ContactAddress>> tuple)
            {
                Addresses = tuple.Item1.Select(a => (Address)a.Clone()).ToList();
                ContactAddresses = tuple.Item2.Select(ca => (ContactAddress)ca.Clone()).ToList();
            }
            else
            {
                Addresses = [];
                ContactAddresses = [];
            }



            ContactAddrModel = new ContactAddress();
            CAddrEditContext = new EditContext(ContactAddrModel);
            return Task.CompletedTask;
        }


        protected override async Task OnInitializedAsync()
        {
            await base.OnInitializedAsync();
            await InitializeAddressDataAsync();
            await GetAddressTypesAsync();

            SetupContactAddressEditContext();
        }
